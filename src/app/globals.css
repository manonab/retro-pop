@import "tailwindcss";

/* ===== PALETTE RETRO POP — VHS MODERNE ===== */
@layer base {
  :root {
    --background: 40 30% 98%;     /* blanc chaud lumineux */
    --foreground: 0 0% 8%;
    --card: 40 28% 99%;
    --border: 40 18% 85%;

    --card-foreground: 0 0% 10%;

    /* Couleurs Retro Pop (inspirées VHS, modernisées) */
    --retro-violet: 262 72% 58%;  /* #7759F0 */
    --retro-rose:   333 78% 62%;  /* #F25795 */
    --retro-orange: 25 95% 60%;   /* #FA9440 */
    --retro-blue:   208 70% 52%;  /* #3C8FD4 */

    /* Dégradé principal Retro Pop */
    --retro-gradient: linear-gradient(
            90deg,
            hsl(var(--retro-violet)) 0%,
            hsl(var(--retro-rose)) 35%,
            hsl(var(--retro-orange)) 70%,
            hsl(var(--retro-blue)) 100%
    );

    /* Effets doux */
    --shadow-retro: 0 3px 10px rgba(0, 0, 0, 0.06);
    --glow-retro: 0 0 12px rgba(242, 87, 149, 0.25);
      /* Fonds neutres complémentaires */
      --background-alt: 42 38% 94%;    /* crème retro légèrement jaune */
      --muted: 0 0% 96%;               /* gris clair équilibrant */
      --muted-foreground: 0 0% 40%;    /* gris typographique doux */

      /* Accents complémentaires */
      --retro-mint:    160 68% 52%;   /* #2DD4BF - vert menthe pop */
      --retro-yellow:  48 94% 58%;    /* #FACC15 - jaune lumineux façon poster 80s */
      --retro-lime:    90 70% 50%;    /* #A3E635 - vert fluo années 90 */
      --retro-cyan:   190 82% 52%;    /* #06B6D4 - bleu/vert néon aquatique */

      /* Dégradé alternatif */
      --retro-gradient-alt: linear-gradient(
              135deg,
              hsl(var(--retro-mint)) 0%,
              hsl(var(--retro-violet)) 35%,
              hsl(var(--retro-rose)) 70%,
              hsl(var(--retro-yellow)) 100%
      );

      /* Ombres et effets */
      --shadow-retro-strong: 0 4px 16px rgba(0, 0, 0, 0.12);
      --glow-violet: 0 0 12px rgba(119, 89, 240, 0.4);
      --glow-cyan:   0 0 12px rgba(6, 182, 212, 0.35);
  }
}

/* ===== THEME TAILWIND ===== */
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--muted-foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-border: hsl(var(--border));
  --font-title: 'Outfit', 'Poppins', sans-serif;
  --font-body: 'Inter', sans-serif;
}

/* ===== UTILITIES RETRO POP VHS ===== */
@layer utilities {
  /* Fond global */
  .bg-retro {
    background-color: hsl(42 35% 96%);
    background-image:
            radial-gradient(circle at 30% 20%, hsl(25 80% 88% / .2) 0%, transparent 40%),
            radial-gradient(circle at 70% 80%, hsl(260 60% 88% / .15) 0%, transparent 50%);
    background-blend-mode: multiply;
  }

  /* Titre stylisé Retro Pop */
  .title-vhs {
    font-family: 'Chakra Petch', 'Orbitron', sans-serif;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    font-size: clamp(2rem, 3vw, 3.5rem);
    color: hsl(var(--foreground));
    position: relative;
    display: inline-block;

    /* Dégradé print léger */
    background: linear-gradient(
            90deg,
            hsl(var(--retro-blue)) 0%,
            hsl(var(--retro-violet)) 45%,
            hsl(var(--retro-rose)) 90%
    );
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;

    /* Contour VHS fin */
    -webkit-text-stroke: 1px hsl(var(--retro-violet) / .5);

    /* effet subtile de scanline */
    text-shadow:
            0 0 0.8px hsl(var(--retro-violet) / .4),
            0 1px 1.5px hsl(var(--retro-blue) / .25);
  }


  .title-retro-sticker:hover {
    transform: rotate(0deg) translateY(-2px);
    filter: saturate(110%);
  }


  /* Navigation claire, moderne, pop */
  .nav-retro {
    position: relative;
    font-family: var(--font-body);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: hsl(var(--foreground));
    transition: color 0.2s ease;
  }
  .nav-retro::after {
    content: "";
    position: absolute;
    left: 0; right: 0; bottom: -4px;
    height: 2px;
    background: linear-gradient(
            90deg,
            hsl(var(--retro-violet)),
            hsl(var(--retro-rose)),
            hsl(var(--retro-orange))
    );
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.25s ease;
    border-radius: 2px;
  }
  .nav-retro:hover {
    color: hsl(var(--retro-rose));
  }
  .nav-retro:hover::after {
    transform: scaleX(1);
  }

  /* Barre de recherche */
  .search-retro {
    background: white;
    border: 2px solid hsl(var(--border));
    border-radius: 999px;
    padding: 0.65rem 1rem;
    width: 95%;
    transition: border-color 0.2s ease;
  }
  .search-retro:focus {
    border-color: hsl(var(--retro-rose));
    box-shadow: 0 0 0 3px rgba(242, 87, 149, 0.15);
  }

  /* Cartes */
  .card-retro {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    border-radius: 14px;
    padding: 1.5rem;
    transition: transform 0.25s ease, box-shadow 0.25s ease;
  }
  .card-retro:hover {
    transform: translateY(-3px);
    box-shadow: var(--shadow-retro);
    border-color: hsl(var(--retro-violet));
  }

  /* Badge “HQ” modernisé */
  .badge-retro {
    background: hsl(var(--retro-orange));
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 700;
    letter-spacing: 0.05em;
  }

  /* Ligne décorative */
  .divider-retro {
    height: 4px;
    width: 80px;
    border-radius: 999px;
    background: var(--retro-gradient);
  }
  .btn-sticker {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(120deg,
    hsl(var(--retro-violet)),
    hsl(var(--retro-rose))
    );
    color: white;
    font-weight: 800;
    letter-spacing: 0.02em;
    border-radius: 999px;
    padding: 0.6rem 1.6rem;
    box-shadow: 0 4px 10px hsl(var(--retro-violet) / .25);
    transform: rotate(-1.5deg);
    transition: all 0.25s ease;
    isolation: isolate;
  }
  .btn-sticker::after {
    content: "";
    position: absolute;
    inset: 2px;
    border-radius: 999px;
    background: linear-gradient(110deg,#fff6 0 35%,transparent 36% 70%,#fff3 71% 100%);
    mix-blend-mode: screen;
    pointer-events: none;
  }
  .btn-sticker:hover {
    border-color:hsl(var(--retro-violet));
    box-shadow:0 8px 18px rgba(0,0,0,.08);
  }

  .bouton-search:active { transform: translateY(0); }
  .tape-window {
    position: relative;
    inset: 0;
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    box-shadow: inset 0 0 0 1px hsl(var(--border)/.35);
  }
  .vhs-notch {
    /* coins supérieurs biseautés, vibe cartouche/cassette */
    clip-path: polygon(10px 0, 100% 0, 100% calc(100% - 10px), calc(100% - 10px) 100%, 0 100%, 0 10px);
  }

  /* Scanlines subtiles */
  .scanlines {
    background-image: repeating-linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0.36) 0 2px,
            transparent 2px 4px
    );
    mix-blend-mode: multiply;
    pointer-events: none;
  }

  /* Bruit doux */
  .tape-noise {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/ filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
    background-size: cover;
    pointer-events: none;
  }

  /* Sticker papier (icône) */
  .sticker-paper {
    background: white;
    border: 1px solid hsl(var(--border));
    box-shadow:
            0 1px 0 rgba(0,0,0,.05),
            0 8px 18px rgba(0,0,0,.06);
  }
  .btn-icon {
    display: grid; place-items: center;
    width: 44px; height: 44px;
    border-radius: 999px;
    background: #fff;
    border: 1px solid hsl(var(--border));
    color: hsl(var(--foreground));
    transition: box-shadow .18s ease, border-color .18s ease;
  }
  .btn-icon:hover {
    border-color: hsl(var(--retro-violet));
    box-shadow: 0 6px 14px hsl(262 72% 40% / .12);
  }

  /* Input search existant — juste s’assurer de la bonne hauteur */
  .search-retro {
    background: #fff;
    border: 2px solid hsl(var(--border));
    border-radius: 12px;
    padding: .6rem .9rem;
    transition: border-color .2s ease, box-shadow .2s ease;
  }
  .search-retro:focus {
    border-color: hsl(var(--retro-rose));
    box-shadow: 0 0 0 3px hsl(333 78% 62% / .15);
    outline: none;
  }
  .price-sticker-simple {
    display: inline-block;
    font-weight: 600;
    font-size: 0.9rem;
    padding: 0.15rem 0.50rem;
    border-radius: 999px;
    color: white;
    background: linear-gradient(
            120deg,
            hsl(var(--retro-violet)),
            hsl(var(--retro-rose))
    );
    box-shadow: 0 2px 6px hsl(var(--retro-violet) / .25);
  }
  .sr-only {
    position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px;
    overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0;
  }

  .info-pill {
    border: 1px solid hsl(var(--border));
    background: white;
    border-radius: 999px;
    padding: .35rem .75rem;
    font-size: .8rem;
  }
  .auth-card {
    box-shadow:
            inset 0 1px 0 rgba(255,255,255,.35),
            0 10px 24px rgba(0,0,0,.08);
  }
  .condition-pill {
    display: inline-block;
    font-size: 0.75rem;
    font-weight: 800;
    letter-spacing: .05em;
    padding: 0.25rem 0.75rem;
    border-radius: 999px;
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
    isolation: isolate;
  }
  .btn-cart-soft {
    position: relative;
    display: inline-flex; align-items: center; justify-content: center;
    gap: .5rem;
    border-radius: 999px;
    background: #fff;
    color: hsl(var(--foreground));
    border: 1px solid hsl(var(--border));
    box-shadow: 0 2px 8px rgba(0,0,0,.04);
    font-weight: 800; letter-spacing: .02em;
    transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
  }
  .btn-cart-soft:hover {
    border-color: hsl(var(--retro-violet));
    box-shadow: 0 6px 16px hsl(262 72% 40% / .10);
  }
  .btn-cart-soft:focus-visible {
    outline: none;
    box-shadow:
            0 0 0 3px hsl(262 72% 58% / .18),
            0 6px 16px hsl(262 72% 40% / .10);
    border-color: hsl(var(--retro-violet));
  }
  .btn-cart-soft:active { transform: translateY(1px); }

  /* léger highlight en survol (reflet soft, pas flashy) */
  .btn-cart-soft::after {
    content:""; position:absolute; inset:2px;
    border-radius: 999px;
    background: linear-gradient(110deg,#fff6 0 30%,transparent 31% 70%,#fff3 71% 100%);
    opacity: 0; transition: opacity .25s ease;
    pointer-events: none;
  }
  .btn-cart-soft:hover::after { opacity: .85; }

  /* État “ajouté” : teinte douce + petite pulsation */
  .btn-cart-soft.is-added {
    border-color: hsl(var(--retro-violet));
    background: linear-gradient(0deg, #fff, #fff) padding-box,
    linear-gradient(120deg, hsl(var(--retro-violet)), transparent 60%) border-box;
    animation: cart-bump .35s ease;
  }

  /* accessibilité utilitaire déjà dans ton fichier mais au cas où */
  .sr-only {
    position: absolute; width:1px; height:1px; padding:0; margin:-1px;
    overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0;
  }
  /* Glow VHS subtile */
  .condition-pill::after {
    content: "";
    position: absolute;
    inset: 0;
    mix-blend-mode: screen;
    background: linear-gradient(120deg,#fff6 0 35%,transparent 36% 70%,#fff3 71% 100%);
    pointer-events: none;
    z-index: -1;
  }

  /* Mint (vert fluo néon) */
  .badge-condition-mint {
    background: linear-gradient(135deg,hsl(var(--retro-mint)),hsl(var(--retro-lime)));
    color: white;
    box-shadow: 0 0 12px hsl(var(--retro-mint) / .4);
  }

  /* Très bon (bleu/violet chic) */
  .badge-condition-verygood {
    background: linear-gradient(135deg,hsl(var(--retro-blue)),hsl(var(--retro-violet)));
    color: white;
    box-shadow: 0 0 12px hsl(var(--retro-blue) / .35);
  }

  /* Correct (orange/jaune chaud, effet papier) */
  .badge-condition-correct {
    background: linear-gradient(135deg,hsl(var(--retro-orange)),hsl(var(--retro-yellow)));
    color: #111;
    box-shadow: 0 0 8px hsl(var(--retro-orange) / .35);
  }

  /* Collector (rose flashy + foil) */
  .badge-condition-collector {
    background: linear-gradient(135deg,hsl(var(--retro-rose)),hsl(var(--retro-violet)));
    color: white;
    text-shadow: 0 0 6px rgba(255,255,255,.35);
    box-shadow: 0 0 14px hsl(var(--retro-rose) / .45);
  }

  /* Fallback */
  .badge-condition-default {
    background: hsl(var(--border));
    color: hsl(var(--foreground));
  }
  /* Étiquette papier (titre + desc) */
  .label-paper {
    background: linear-gradient(
            180deg,
            hsl(var(--background)) 0%,
            hsl(var(--card)) 100%
    );
    border: 1px solid hsl(var(--border));
    box-shadow: inset 0 1px 0 rgba(255,255,255,.4);
  }

  /* Léger décalage chromatique du texte (clin d’œil VHS) */
  .chromatic {
    position: relative;
  }
  .chromatic::before,
  .chromatic::after {
    content: attr(data-text);
    content: unset; /* on laisse le contenu normal, on décale juste des couches colorées */
  }
  .chromatic::before,
  .chromatic::after {
    position: absolute; inset: 0; pointer-events: none;
    mix-blend-mode: multiply; opacity: .25;
  }
  .chromatic::before { transform: translate(1px, 0); color: #ff6b6b; }
  .chromatic::after  { transform: translate(-1px, 0); color: #32e0ff; }
  /* adoucit l’image pour lisibilité du texte par-dessus */
  .img-wash { background: linear-gradient(0deg, rgba(0,0,0,.04), rgba(0,0,0,.04)); }
  .img-bottom-gradient { background: linear-gradient(to top, rgba(0,0,0,.25), transparent 60%); }
  .vhs-underline { position: relative; }
  .vhs-underline::after {
    content:""; position:absolute; left:0; right:0; bottom:-2px; height:2px;
    transform:scaleX(0); transform-origin:left; transition:transform .2s ease;
    background: var(--retro-gradient);
  }
  .vhs-underline:hover::after { transform:scaleX(1); }
  .btn-soft-outline{
    background:#fff; color:hsl(var(--foreground));
    border:1px solid hsl(var(--border)); border-left-width:0;
    box-shadow:0 1px 0 rgba(255,255,255,.8) inset, 0 2px 8px rgba(0,0,0,.04);
    font-weight:800; letter-spacing:.02em;
    transition:transform .16s ease, box-shadow .16s ease, border-color .16s ease, background .16s ease;
  }
  .btn-soft-outline:hover{
    border-color: hsl(var(--border));
    box-shadow:0 1px 0 rgba(255,255,255,.9) inset, 0 8px 18px rgba(0,0,0,.08);
  }
  .btn-soft-outline:active{ transform:translateY(1px); }
  .btn-soft-outline:focus-visible{
    outline:none; box-shadow:0 0 0 3px hsl(var(--foreground)/.08), 0 8px 18px rgba(0,0,0,.08);
  }
  .btn-search{
    --btn-bg: hsl(var(--retro-orange));
    --btn-fg: #fff;

    display:inline-flex;align-items:center;justify-content:center;gap:.5rem;
    font-weight:800; letter-spacing:.02em;
    background: var(--btn-bg); color: var(--btn-fg);
    border: none; /* pas de double bordure avec l'input */
    border-left-width: 0;
    box-shadow: 0 4px 12px hsl(262 72% 40% / .20);
    transition: transform .16s ease, box-shadow .16s ease, background .16s ease;
  }

}

@layer components {
  .bevel-card {
    box-shadow:
            inset 0 1px 0 rgba(255,255,255,.35),
            0 1px 0 rgba(0,0,0,.04),
            0 10px 24px rgba(0,0,0,.06);
  }
}
